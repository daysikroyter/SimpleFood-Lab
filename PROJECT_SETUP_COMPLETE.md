# üéâ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ (7 —Å–µ—Ä–≤–∏—Å–æ–≤):

1. **API Gateway** (–ø–æ—Ä—Ç 9000)
   - `/services/api-gateway/`
   - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, rate limiting

2. **Auth Service** (–ø–æ—Ä—Ç 8001)
   - `/services/auth-service/`
   - JWT —Ç–æ–∫–µ–Ω—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

3. **Catalog Service** (–ø–æ—Ä—Ç 8002)
   - `/services/catalog-service/`
   - –ü—Ä–æ–¥—É–∫—Ç—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –æ—Ç–∑—ã–≤—ã

4. **Cart Service** (–ø–æ—Ä—Ç 8003)
   - `/services/cart-service/`
   - –ö–æ—Ä–∑–∏–Ω–∞, –ø—Ä–æ–º–æ–∫–æ–¥—ã

5. **Order Service** (–ø–æ—Ä—Ç 8000)
   - `/services/order-service/`
   - –ó–∞–∫–∞–∑—ã, —Å—Ç–∞—Ç—É—Å—ã

6. **Payment Service** (–ø–æ—Ä—Ç 8004)
   - `/services/payment-service/`
   - –ü–ª–∞—Ç–µ–∂–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

7. **Admin Service** (–ø–æ—Ä—Ç 8005)
   - `/services/admin-service/`
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

---

## üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- ‚úÖ `docker-compose.yml` - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (dev)
- ‚úÖ `docker-compose.prod.yml` - –ø—Ä–æ–¥–∞–∫—à–Ω
- ‚úÖ `docker/Dockerfile.base` - –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
- ‚úÖ `docker/nginx.conf` - –∫–æ–Ω—Ñ–∏–≥ Nginx
- ‚úÖ `docker/default.conf` - —Å–∞–π—Ç—ã Nginx
- ‚úÖ `docker/supervisord.conf` - –ø—Ä–æ—Ü–µ—Å—Å –º–µ–Ω–µ–¥–∂–µ—Ä
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ `Dockerfile` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

### –°–µ—Ä–≤–∏—Å—ã –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- 6x MySQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç—ã 3307-3312)
- Redis (–ø–æ—Ä—Ç 6379)
- RabbitMQ (–ø–æ—Ä—Ç—ã 5672, 15672)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ `README.md` - –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `ARCHITECTURE.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ `QUICKSTART.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `MIGRATION_GUIDE.md` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ `API_DOCUMENTATION.md` - API endpoints

---

## üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Makefile –∫–æ–º–∞–Ω–¥—ã:
```bash
make help           # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
make setup          # –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
make up             # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
make down           # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
make test           # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make migrate        # –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make logs           # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
```

### –°–∫—Ä–∏–ø—Ç—ã:
- ‚úÖ `scripts/start-all.sh` / `.bat` - –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ `scripts/run-all-tests.sh` / `.bat` - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `scripts/migrate-from-monolith.sh` / `.bat` - –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞

---

## üß™ CI/CD

- ‚úÖ `.github/workflows/ci-cd.yml` - GitHub Actions pipeline
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
  - –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
# Windows
scripts\start-all.bat

# Linux/Mac
chmod +x scripts/start-all.sh
./scripts/start-all.sh
```

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞:
```bash
# Windows
scripts\migrate-from-monolith.bat

# Linux/Mac
chmod +x scripts/migrate-from-monolith.sh
./scripts/migrate-from-monolith.sh
```

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:
```bash
make migrate
```

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
```bash
make seed
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://localhost:9000 - API Gateway
- http://localhost:15672 - RabbitMQ (admin/admin)

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Laragon

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Laragon:

### 1. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã:
–î–æ–±–∞–≤—å—Ç–µ –≤ `C:\Windows\System32\drivers\etc\hosts`:
```
127.0.0.1 api-gateway.test
127.0.0.1 auth-service.test
127.0.0.1 catalog-service.test
127.0.0.1 cart-service.test
127.0.0.1 order-service.test
127.0.0.1 payment-service.test
127.0.0.1 admin-service.test
```

### 2. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
–°–æ–∑–¥–∞–π—Ç–µ –≤ HeidiSQL (Laragon):
- auth_db
- catalog_db
- cart_db
- orders_db
- payments_db
- admin_db

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
```bash
cd services/auth-service
composer install
cp .env.example .env
php artisan key:generate
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- 7 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- 7 Dockerfile
- 2 docker-compose —Ñ–∞–π–ª–∞
- 4 –∫–æ–Ω—Ñ–∏–≥–∞ Docker
- 5 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- 6 bash/bat —Å–∫—Ä–∏–ø—Ç–æ–≤
- 1 Makefile
- 1 CI/CD pipeline

### –ü–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã:
- 8000-8005 (—Å–µ—Ä–≤–∏—Å—ã)
- 9000 (API Gateway)
- 3307-3312 (MySQL)
- 6379 (Redis)
- 5672, 15672 (RabbitMQ)

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- [ ] –°–æ–∑–¥–∞—Ç—å routes –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- [ ] –°–æ–∑–¥–∞—Ç—å seeders
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- [ ] –î–æ–±–∞–≤–∏—Ç—å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—É—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å Event Sourcing (RabbitMQ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus/Grafana)
- [ ] –î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

---

## üìû –ü–æ–º–æ—â—å

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker?
```bash
docker-compose down -v  # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
docker-compose build    # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose up -d    # –ó–∞–ø—É—Å—Ç–∏—Ç—å
```

### –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã?
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç—ã –≤ `docker-compose.yml`

### –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π?
```bash
docker exec simplefood-auth-service php artisan migrate:fresh
```

---

## üéì –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Laravel Documentation](https://laravel.com/docs)
- [Docker Documentation](https://docs.docker.com)
- [Microservices Patterns](https://microservices.io/patterns/)
- [REST API Best Practices](https://restfulapi.net)

---

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–í–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! 

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:
```bash
make setup  # –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```

–£–¥–∞—á–∏ —Å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π! üöÄ
